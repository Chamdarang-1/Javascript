<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1.비동기처리</title>
</head>
<body>
    <h3>1.비동기처리</h3>

    <script>

        console.log('here...1');

        // 비동기 처리(논블록킹)
        setTimeout(function(){
            console.log('here...2');    
        },1000); // 시간을 0으로 해도 1, 3, 2 순서로 나오게 됨
        
        console.log('here...3');

        // 콜백 함수를 이용한 비동기 처리
        console.log('start');

        function process(callback){

            setTimeout(function(){
                console.log('process');

                // 작업 후 callback 함수 end 호출
                callback();
                
            }, 1000);
        }

        function end(){
            console.log('end')
        }

        process(end);

        // 콜백 지옥
        function step1(callback){
            setTimeout(function(){
                console.log('step1')
                callback();
            }, 1000);
        }
        function step2(callback){
            setTimeout(function(){
                console.log('step2')
                callback();
            }, 3000);
        }
        function step3(callback){
            setTimeout(function(){
                console.log('step3')
                callback();
            }, 2000);
        }

        step1(function(){
            step2(function(){
                step3(function(){
                    console.log('done');
                });
            });
        });

    </script>


</body>
</html>